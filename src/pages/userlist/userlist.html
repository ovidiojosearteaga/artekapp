<ion-header>
  <ion-navbar>
    <ion-title>Usuarios</ion-title>
  </ion-navbar>
</ion-header>


<ion-content >
  <ion-searchbar [(ngModel)]="searchTerm" [formControl]="searchControl" (input)="onSearchInput()"></ion-searchbar>
  <div  *ngIf="searching" class="spinner-container">
    <ion-spinner></ion-spinner>
  </div>
  <ion-list>
    <ion-item *ngFor="let item of items" (click)="showPrompt(item)">
      <ion-avatar item-start>
        <img src="{{item.user_avatar}}">
      </ion-avatar>
      <h2>{{item.display_name}}</h2>
      <p class="paciente-email">{{item.user_email}}</p>
      <span item-end class="user-points">Pts: {{item.user_points}}</span>
    </ion-item>
  </ion-list>

  <div *ngIf="showListAlphabetical" >
    <ion-item-group *ngFor="let letter of userList.letterList" >
      <ion-item-divider class="letter-divider">{{letter}}</ion-item-divider>
      <ion-item *ngFor="let paciente of userList.pacientes[letter]" class="user-item" (click)="showPrompt(paciente)">
        <ion-avatar item-start>
          <img src="{{paciente.user_avatar}}">
        </ion-avatar>
        <h2>{{paciente.display_name}}</h2>
        <p class="paciente-email">{{paciente.user_email}}</p>
        <span item-end class="user-points">Pts: {{paciente.user_points}}</span>
      </ion-item>
    </ion-item-group>
  </div>
</ion-content>
